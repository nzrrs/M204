<!DOCTYPE html>
<html>
  <head>
    <title>PC Portable</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body>
    <div id="app"></div>

    <script type="text/babel">
      const products = [
        {
          id: 1,
          title: "HP VICTUS",
          price: "7490 DH",
          thumbnail: "HP16D0195NF.jpg",
        },
        {
          id: 2,
          title: "HP VICTUS",
          price: "2190 DH",
          thumbnail: "HP14424U3EA.jpg",
        },
        {
          id: 3,
          title: "Acer Chromebook",
          price: "3640 DH",
          thumbnail: "NXATHEF002.jpg",
        },
        {
          id: 4,
          title: "HUAWEI",
          price: "1270 DH",
          thumbnail: "HUA6901443442959.jpg",
        },
      ];

      function Product({ product, add, remove }) {
        return (
          <div className="col-md-3 mb-3">
            <div className="card">
              <img
                src={"pictures/" + product.thumbnail}
                className="card-img-top"
              />
              <div className="card-body">
                <h6>{product.title}</h6>
                <p>{product.price}</p>

                <button className="btn btn-sm btn-success me-2" onClick={add}>
                  Ajouter
                </button>

                <button className="btn btn-sm btn-danger" onClick={remove}>
                  Supprimer
                </button>
              </div>
            </div>
          </div>
        );
      }

      function App() {
        const [count, setCount] = React.useState(0);

        return (
          <div className="container mt-4">
            <h3>Panier : {count}</h3>

            <div className="row">
              {products.map((p) => (
                <Product
                  key={p.id}
                  product={p}
                  add={() => setCount(count + 1)}
                  remove={() => count > 0 && setCount(count - 1)}
                />
              ))}
            </div>
          </div>
        );
      }

      ReactDOM.render(<App />, document.getElementById("app"));
    </script>
  </body>
</html>
